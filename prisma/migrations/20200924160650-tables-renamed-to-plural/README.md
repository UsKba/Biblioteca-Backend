# Migration `20200924160650-tables-renamed-to-plural`

This migration has been generated by DestroyeerU at 9/24/2020, 4:06:50 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Users" (
"email" text  NOT NULL ,"enrollment" text  NOT NULL ,"id" SERIAL,"name" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Rooms" (
"available" boolean  NOT NULL DEFAULT true,"id" SERIAL,"initials" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Schedules" (
"endHour" text  NOT NULL ,"id" SERIAL,"initialHour" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Reserves" (
"day" integer  NOT NULL ,"id" SERIAL,"month" integer  NOT NULL ,"roomId" integer  NOT NULL ,"scheduleId" integer  NOT NULL ,"year" integer  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."UserReserves" (
"id" SERIAL,"reserveId" integer  NOT NULL ,"userId" integer  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Friends" (
"id" SERIAL,"userId1" integer  NOT NULL ,"userId2" integer  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Invites" (
"id" SERIAL,"recipientId" integer  NOT NULL ,"userId" integer  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."Friend" DROP CONSTRAINT IF EXiSTS "Friend_userId1_fkey";

ALTER TABLE "public"."Friend" DROP CONSTRAINT IF EXiSTS "Friend_userId2_fkey";

ALTER TABLE "public"."Invite" DROP CONSTRAINT IF EXiSTS "Invite_recipientId_fkey";

ALTER TABLE "public"."Invite" DROP CONSTRAINT IF EXiSTS "Invite_userId_fkey";

ALTER TABLE "public"."Reserve" DROP CONSTRAINT IF EXiSTS "Reserve_roomId_fkey";

ALTER TABLE "public"."Reserve" DROP CONSTRAINT IF EXiSTS "Reserve_scheduleId_fkey";

ALTER TABLE "public"."UserReserve" DROP CONSTRAINT IF EXiSTS "UserReserve_reserveId_fkey";

ALTER TABLE "public"."UserReserve" DROP CONSTRAINT IF EXiSTS "UserReserve_userId_fkey";

CREATE UNIQUE INDEX "Users.enrollment" ON "public"."Users"("enrollment")

CREATE UNIQUE INDEX "Users.email" ON "public"."Users"("email")

CREATE UNIQUE INDEX "Rooms.initials" ON "public"."Rooms"("initials")

ALTER TABLE "public"."Reserves" ADD FOREIGN KEY ("roomId")REFERENCES "public"."Rooms"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Reserves" ADD FOREIGN KEY ("scheduleId")REFERENCES "public"."Schedules"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."UserReserves" ADD FOREIGN KEY ("userId")REFERENCES "public"."Users"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."UserReserves" ADD FOREIGN KEY ("reserveId")REFERENCES "public"."Reserves"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Friends" ADD FOREIGN KEY ("userId1")REFERENCES "public"."Users"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Friends" ADD FOREIGN KEY ("userId2")REFERENCES "public"."Users"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Invites" ADD FOREIGN KEY ("userId")REFERENCES "public"."Users"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Invites" ADD FOREIGN KEY ("recipientId")REFERENCES "public"."Users"("id") ON DELETE CASCADE  ON UPDATE CASCADE

DROP TABLE "public"."Friend";

DROP TABLE "public"."Invite";

DROP TABLE "public"."Reserve";

DROP TABLE "public"."Room";

DROP TABLE "public"."Schedule";

DROP TABLE "public"."User";

DROP TABLE "public"."UserReserve";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200909152812-create-invite..20200924160650-tables-renamed-to-plural
--- datamodel.dml
+++ datamodel.dml
@@ -3,79 +3,79 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
-model User {
+model Users {
   id         Int    @default(autoincrement()) @id
   enrollment String @unique
   name       String
   email      String @unique
-  UserReserve UserReserve[]
+  UserReserve UserReserves[]
-  user1 Friend[] @relation("user1")
-  user2 Friend[] @relation("user2")
+  user1 Friends[] @relation("user1")
+  user2 Friends[] @relation("user2")
-  user      Invite[] @relation("user")
-  recipient Invite[] @relation("recipient")
+  user      Invites[] @relation("user")
+  recipient Invites[] @relation("recipient")
 }
-model Room {
-  id        Int       @default(autoincrement()) @id
-  initials  String    @unique
-  available Boolean   @default(true)
-  Reserve   Reserve[]
+model Rooms {
+  id        Int        @default(autoincrement()) @id
+  initials  String     @unique
+  available Boolean    @default(true)
+  Reserve   Reserves[]
 }
-model Schedule {
-  id          Int       @default(autoincrement()) @id
+model Schedules {
+  id          Int        @default(autoincrement()) @id
   initialHour String
   endHour     String
-  Reserve     Reserve[]
+  Reserve     Reserves[]
 }
-model Reserve {
+model Reserves {
   id    Int @default(autoincrement()) @id
   day   Int
   month Int
   year  Int
-  room   Room @relation(fields: [roomId], references: [id])
+  room   Rooms @relation(fields: [roomId], references: [id])
   roomId Int
-  schedule    Schedule      @relation(fields: [scheduleId], references: [id])
+  schedule    Schedules      @relation(fields: [scheduleId], references: [id])
   scheduleId  Int
-  UserReserve UserReserve[]
+  UserReserve UserReserves[]
 }
-model UserReserve {
+model UserReserves {
   id Int @default(autoincrement()) @id
-  user   User @relation(fields: [userId], references: [id])
+  user   Users @relation(fields: [userId], references: [id])
   userId Int
-  reserve   Reserve @relation(fields: [reserveId], references: [id])
+  reserve   Reserves @relation(fields: [reserveId], references: [id])
   reserveId Int
 }
-model Friend {
+model Friends {
   id Int @default(autoincrement()) @id
-  user1 User @relation("user1", fields: [userId1], references: [id])
-  user2 User @relation("user2", fields: [userId2], references: [id])
+  user1 Users @relation("user1", fields: [userId1], references: [id])
+  user2 Users @relation("user2", fields: [userId2], references: [id])
   userId1 Int
   userId2 Int
 }
-model Invite {
+model Invites {
   id Int @default(autoincrement()) @id
-  user      User @relation("user", fields: [userId], references: [id])
-  recipient User @relation("recipient", fields: [recipientId], references: [id])
+  user      Users @relation("user", fields: [userId], references: [id])
+  recipient Users @relation("recipient", fields: [recipientId], references: [id])
   userId      Int
   recipientId Int
 }
```


