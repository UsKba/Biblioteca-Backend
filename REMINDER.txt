Co-authored-by: Kaduco19 <caduco2003@gmail.com>

Criar docker container:
docker run --name sb_database -e POSTGRES_PASSWORD=docker -p 5432:5432 -d postgres

=> listar containers em execucao:
docker ps

docker start sb_database
docker stop sb_database


prisma

npx prisma init

.env
DATABASE_URL="postgresql://postgres:docker@localhost:5432/prisma?schema=public"


FAZER MIGRACAO
npx prisma migrate save --experimental

UPAR PRO DB
npx prisma migrate up --experimental

ATUALIZAR TYPESCRIPT MODEL (CASO NN RECONHECA DE PRIMEIRA FECHE O ARQUIVO E ABRA DENOVO OU RELOAD VS)
npx prisma generate


npx prisma studio --experimental
npx prisma introspect

sudo docker run --name postgresLibrary -e POSTGRES_PASSWORD=docker -p 5432:5432 -d postgres
//criar o conteiner postgres

sudo docker ps -a
//mostrar todos conteiners do computador

sudo docker ps
//mostrar conteiners em execucao

sudo docker start postgresLibrary
//startar o container



==================================== HEROKU ===================================

1. Enter https://dashboard.heroku.com/apps
2. Create a new App

3.
heroku git:remote -a PROJECT_NAME

4.
git remote // Verificar se aparece heroku
git push heroku master



=== Setup Postgres ===
-> Va para `resources` no heroku
-> Pesquise `Postgres` e adicione
-> Click em Postgres
-> copie `URI` e cole no seu .env

git add .
git ci "Postgres URI changed on .env"
git push heroku master

-> Click em `Open App` e copie a URL

-> Click em `More` e `Run console` e digite `bash`
-> Rode as migrações do banco de dados (yarn migrate:production)

==> PRONTO <==


=== Lembretes ===

O heroku usa o comando `start` para rodar o app
























    for (let i = 0; i < classmatesIDs.length; i += 1) {
      const targetClassmate = classmatesIDs[i];

      const userReserves = await prisma.userReserve.findMany({
        where: {
          userId: targetClassmate,
        },
      });

      for (let j = 0; j < userReserves.length; j += 1) {
        const targetUserReserve = userReserves[j];

        const targetReserve = await prisma.reserve.findOne({
          where: { id: targetUserReserve.reserveId,  },
        });

        // targetReserve?.date.getHours()


        const schedule = targetReserve!.date.getHours();
        const nowSchedule = reserveDate.getHours();

        if( nowSchedule
          )

        // reserveConfig.turns.morning
      }
    }
